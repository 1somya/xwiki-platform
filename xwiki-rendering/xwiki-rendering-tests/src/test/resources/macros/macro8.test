.#-------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify behavior when a non inline macro is used inline.
.#-------------------------------------------------------------------------------------
Not inline {{testsimplemacro/}} macro
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginParagraph
onWord [Not]
onSpace
onWord [inline]
onSpace
beginMacroMarkerInline [testsimplemacro] [] []
beginXMLNode [span] [class=xwikirenderingerror]
onWord [Not an inline macro]
endXMLNode [span] [class=xwikirenderingerror]
beginXMLNode [span] [class=xwikirenderingerrordescription hidden]
beginXMLNode [pre]
onWord [This macro can only be used by itself on a new line]
endXMLNode [pre]
endXMLNode [span] [class=xwikirenderingerrordescription hidden]
endMacroMarkerInline [testsimplemacro] [] []
onSpace
onWord [macro]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xhtml/1.0
.#-----------------------------------------------------
<p>Not inline <!--startmacro:testsimplemacro|-||-|--><span class="xwikirenderingerror">Not an inline macro</span><span class="xwikirenderingerrordescription hidden"><pre>This macro can only be used by itself on a new line</pre></span><!--stopmacro--> macro</p>
.#-----------------------------------------------------
.expect|xwiki/2.0
.#-----------------------------------------------------
Not inline {{testsimplemacro/}} macro
.#-----------------------------------------------------
.input|xhtml/1.0
.#-----------------------------------------------------
<html><p>Not inline <!--startmacro:testsimplemacro|-||-|--><span class="xwikirenderingerror">Not an inline macro</span><span class="xwikirenderingerrordescription hidden"><pre>This macro can only be used by itself on a new line</pre></span><!--stopmacro--> macro</p></html>