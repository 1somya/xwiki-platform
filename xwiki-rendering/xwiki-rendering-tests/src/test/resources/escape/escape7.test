.#---------------------------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify that the XHTML parser is able to automatically escape characters having a meaning in wiki syntax.
.# Perform checks for link escapes.
.#---------------------------------------------------------------------------------------------------------
~[~[nolink]]
[[[[>>reference]]
~[~[whatever
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginParagraph
onSpecialSymbol [[]
onSpecialSymbol [[]
onWord [nolink]
onSpecialSymbol []]
onSpecialSymbol []]
onNewLine
beginLink [Reference = [reference]] [false]
onSpecialSymbol [[]
onSpecialSymbol [[]
endLink [Reference = [reference]] [false]
onNewLine
onSpecialSymbol [[]
onSpecialSymbol [[]
onWord [whatever]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xhtml/1.0
.#-----------------------------------------------------
<p>[[nolink]]<br/><span class="wikiexternallink"><a href="reference">[[</a></span><br/>[[whatever</p>
.#-----------------------------------------------------
.expect|xwiki/2.0
.#-----------------------------------------------------
~[~[nolink]]
[[[[>>reference]]
~[~[whatever
.#-----------------------------------------------------
.input|xhtml/1.0
.#-----------------------------------------------------
<p>[[nolink]]<br/><!--startwikilink:reference--><span class="wikiexternallink"><a href="reference">[[</a></span><!--stopwikilink--><br/>[[whatever</p>