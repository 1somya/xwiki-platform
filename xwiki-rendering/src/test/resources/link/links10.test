.#--------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify we can put URLs direclty in the text and that ~ character is not escaped
.#--------------------------------------------------------------------------------
Some URL http://server/path/~user
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginParagraph
onWord [Some]
onSpace
onWord [URL]
onSpace
beginLink [Reference = [http://server/path/~user]] [true]
endLink [Reference = [http://server/path/~user]] [true]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xhtml
.#-----------------------------------------------------
<p>Some URL <!--startwikilink:http://server/path/~user--><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://server/path/~user"><span class="wikigeneratedlinkcontent">http://server/path/~user</span></a></span><!--stopwikilink--></p>
.#-----------------------------------------------------
.expect|xwiki
.#-----------------------------------------------------
Some URL http://server/path/~user
.#-----------------------------------------------------
.input|xhtml/1.0
.#-----------------------------------------------------
<html><p>Some URL <!--startwikilink:http://server/path/~user--><span class="wikiexternallink"><a class="wikimodel-freestanding" href="http://server/path/~user"><span class="wikigeneratedlinkcontent">http://server/path/~user</span></a></span><!--stopwikilink--></p></html>