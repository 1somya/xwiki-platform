.#----------------------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify trimming of whitespaces/new lines when in wiki mode (wiki syntax allowed in element content)
.# Note: whitespaces in PRE and CDATA element are preserved (except for leading and trailing ones)
.#----------------------------------------------------------------------------------------------------
{{xhtml}}
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
{{/xhtml}}
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginMacroMarker [xhtml] [] [
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
beginXMLNode [pre]
onWord [newline]
onLineBreak
onSpace
onSpace
onWord [newline]
endXMLNode [pre]
beginXMLNode [p]
onWord [Some]
onSpace
beginXMLNode [span]
onWord [text]
endXMLNode [span]
beginXMLNode [comment]
endXMLNode [comment]
onSpace
onWord [another]
onSpace
beginXMLNode [CDATA]
onWord [hello]
onSpace
onSpace
onWord [world]
endXMLNode [CDATA]
endXMLNode [p]
endMacroMarker [xhtml] [] [
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
endDocument