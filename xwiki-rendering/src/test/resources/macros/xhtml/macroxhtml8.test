.#-----------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify that the XHTML Macro knows how to handle XML comments and that they are not lost.
.#-----------------------------------------------------------------------------------------
{{xhtml}}
<!-- comment1 -->
<p>hello</p>
<!-- comment2 -->
{{/xhtml}}
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginMacroMarker [xhtml] [] [
<!-- comment1 -->
<p>hello</p>
<!-- comment2 -->
]
beginXMLNode [ comment1 ]
endXMLNode [ comment1 ]
beginXMLNode [p]
onWord [hello]
endXMLNode [p]
beginXMLNode [ comment2 ]
endXMLNode [ comment2 ]
endMacroMarker [xhtml] [] [
<!-- comment1 -->
<p>hello</p>
<!-- comment2 -->
]
endDocument
.#-----------------------------------------------------
.expect|xhtml
.#-----------------------------------------------------
<!--startmacro:xhtml|-||-|
<!-- comment1 -->
<p>hello</p>
<!-- comment2 -->
--><!-- comment1 --><p>hello</p><!-- comment2 --><!--stopmacro-->