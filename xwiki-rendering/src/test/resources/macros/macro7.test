.#-------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify behavior when macro doesn't exist, namely that it's wrapped in an Error block
.# that is made visible when rendering to XHTML.
.#-------------------------------------------------------------------------------------
Unknown {{unknown/}} macro
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginParagraph
onWord [Unknown]
onSpace
beginError: [Unknown macro: unknown] [The "unknown" macro is not in the list of registered macros. Verify the spelling or contact your administrator.]
onMacroInline [unknown] [] []
endError: [Unknown macro: unknown] [The "unknown" macro is not in the list of registered macros. Verify the spelling or contact your administrator.]
onSpace
onWord [macro]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xhtml
.#-----------------------------------------------------
<p>Unknown <span class="xwikierror">Unknown macro: unknown<!--errordescription:The "unknown" macro is not in the list of registered macros. Verify the spelling or contact your administrator.--><!--startmacro:unknown|-||-|--><!--stopmacro--></span> macro</p>
.#-----------------------------------------------------
.expect|xwiki
.#-----------------------------------------------------
Unknown {{unknown/}} macro
.#-----------------------------------------------------
.input|xhtml/1.0
.#-----------------------------------------------------
<html><p>Unknown <span class="xwikierror">Unknown macro: unknown<!--errordescription:The "unknown" macro is not in the list of registered macros. Try checking the spelling or contact your administrator.--><!--startmacro:unknown|-||-|--><!--stopmacro--></span> macro</p></html>