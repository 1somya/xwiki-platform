.#-----------------------------------------------------
.input|xwiki/2.0
.#-----------------------------------------------------
[[Space.ExistingPage]]
[[Space.ExistingPage#anchor?param=value]]
[[label>Space.UnknownPage]]
[[label>http://xwiki.org]]
[[label>Space.ExistingPage>_target]]
[[mailto:john@doe.com]]
[[{{macro}}]]
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginParagraph
onLink: [Reference = [Space.ExistingPage]]
onLineBreak
onLink: [Reference = [Space.ExistingPage] QueryString = [param=value] Anchor = [anchor]]
onLineBreak
onLink: [Label = [label] Reference = [Space.UnknownPage]]
onLineBreak
onLink: [Label = [label] Reference = [http://xwiki.org]]
onLineBreak
onLink: [Label = [label] Reference = [Space.ExistingPage] Target = [_target]]
onLineBreak
onLink: [Reference = [mailto:john@doe.com]]
onLineBreak
onLink: [Reference = [{{macro}}]]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xhtml
.#-----------------------------------------------------
<p><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage">Space.ExistingPage</a></span><br/><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage#anchor?param=value">Space.ExistingPage</a></span><br/><a class="wikicreatelink" href="/xwiki/bin/view/Space/UnknownPage"><span class="wikicreatelinktext">label</span><span class="wikicreatelinkqm">?</span></a><br/><span class="wikiexternallink"><a href="http://xwiki.org">label</a></span><br/><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage" rel="__target">label</a></span><br/><span class="wikiexternallink"><a href="mailto:john@doe.com">mailto:john@doe.com</a></span><br/><a class="wikicreatelink" href="/xwiki/bin/view/{{macro}}"><span class="wikicreatelinktext">{{macro}}</span><span class="wikicreatelinkqm">?</span></a></p>
.#-----------------------------------------------------
.expect|xwiki
.#-----------------------------------------------------
[[Space.ExistingPage]]
[[Space.ExistingPage#anchor?param=value]]
[[label>Space.UnknownPage]]
[[label>http://xwiki.org]]
[[label>Space.ExistingPage>_target]]
[[mailto:john@doe.com]]
[[{{macro}}]]
.#-----------------------------------------------------
.input|xhtml/1.0|skip
.#-----------------------------------------------------
.# TODO: Make it work!
<html><p><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage">Space.ExistingPage</a></span><br/><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage#anchor?param=value">Space.ExistingPage</a></span><br/><a class="wikicreatelink" href="/xwiki/bin/view/Space/UnknownPage"><span class="wikicreatelinktext">label</span><span class="wikicreatelinkqm">?</span></a><br/><span class="wikiexternallink"><a href="http://xwiki.org">label</a></span><br/><span class="wikilink"><a href="/xwiki/bin/view/Space/ExistingPage" rel="__target">label</a></span><br/><span class="wikiexternallink"><a href="mailto:john@doe.com">mailto:john@doe.com</a></span><br/><a class="wikicreatelink" href="/xwiki/bin/view/{{macro}}"><span class="wikicreatelinktext">{{macro}}</span><span class="wikicreatelinkqm">?</span></a></p></html>