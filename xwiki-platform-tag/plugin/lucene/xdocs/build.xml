<?xml version="1.0" encoding="utf-8"?> 
<document>  
	<properties>  
		<author email="jk AT jkraemer.net">Jens Kraemer</author>
		<title>XWiki Lucene Plugin - Build from source</title>
	</properties>  
	<meta name="keyword" content="xwiki, lucene, plugin"/> 
	<body>
		<section name="Building from Source">
			<subsection name="Maven setup">
				<p>
					The project is built by Maven, so you need to get that up and running at first. I use these
					maven repositories to download dependencies from:
				</p>
				<ul><li>http://dist.codehaus.org/</li><li>http://www.ibiblio.org/maven/</li></ul>
				<p>
					To make compiling work you have to manually create a jar file with the contents of the 
					WEB-INF/classes directory of xwiki. Copy this into your local maven repository, i.e. 
					~/.maven/repository/xwiki/jars/xwiki-0.9.840.jar. 
					Make sure the version in the filename matches the version defined in project.xml.
				</p>
				<p>
					Now typing <source>maven jar</source> should give you a xwiki-lucene-plugin-x.y.jar 
					file in target/.
				</p>
			</subsection>
			<subsection name="Installation">
				<p>
					Just copy the plugin jar and the following libraries to WEB-INF/lib of your xwiki installation:
				</p>
				<ul>
					<li>lucene-1.4.3.jar</li>
					<li>PDFBox-0.6.7a.jar</li>
					<li>poi-20040624.jar</li>
					<li>poi-scratchpad-20040624.jar</li>
					<li>xpp3-1.1.3.4-RC8_min.jar</li>
				</ul>
				<p>
					If you successfully built the plugin jar using maven, those libs can be found in your 
					local maven repository. If you don't want to search for them there, you can use 
					<source>maven copydeps</source> to copy them to 
					target/xwiki-lucene-plugin.x.y/bin/xwiki-lucene-plugin.x.y/lib.
				</p> 
				<p>For configuring XWiki to recognize the plugin, see <a href="install.html">Installation</a></p>
			</subsection>
			
		</section>
	</body>
</document>
