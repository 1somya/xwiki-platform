<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc version="1.1">
  <web>WikiStream</web>
  <name>WikiStreamJob</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1383901486000</creationDate>
  <parent>WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1383928639000</date>
  <contentUpdateDate>1383917263000</contentUpdateDate>
  <version>1.1</version>
  <title/>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden/>
  <content>{{velocity output="false"}}
## NOTE: We don't use #template because it currently registers the Velocity macros in a different namespace which makes
## them unavailable in the current wiki page or the current template. We also tried #parse but it "randomly" fails to
## register the Velocity macros from the parsed template. The only solution we found is to use #evaluate with #include
## but unfortunately this doesn't allow the template to be overridden from the skin.
#evaluate("#include('extension.vm')")
{{/velocity}}

{{velocity}}
#set($job = $services.wikistream.currentJob)
#if ($job)
  #set($jobStatus = $services.wikistream.currentJob.status)
  {{html}}
    #displayJobProgressBar($jobStatus)
    #printStatusLog($jobStatus)
  {{/html}}
#end
{{/velocity}}</content>
  <renderedcontent/>
</xwikidoc>
