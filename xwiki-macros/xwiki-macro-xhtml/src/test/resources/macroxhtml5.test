.#------------------------------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify trimming of whitespaces/new lines when in non-wiki mode (wiki syntax NOT allowed in element content)
.#------------------------------------------------------------------------------------------------------------
{{xhtml escapeWikiSyntax="true"}}
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span> 
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
{{/xhtml}}
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginMacroMarker [xhtml] [escapeWikiSyntax=true] [
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span> 
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
beginXMLNode [pre]
onWord [
  newline
  newline
]
endXMLNode [pre]
beginXMLNode [p]
onWord [Some ]
beginXMLNode [span]
onWord [text]
endXMLNode [span]
beginXMLNode [comment]
endXMLNode [comment]
onWord [ another ]
beginXMLNode [CDATA]
onWord [
hello  world
   ]
endXMLNode [CDATA]
endXMLNode [p]
endMacroMarker [xhtml] [escapeWikiSyntax=true] [
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span> 
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
endDocument