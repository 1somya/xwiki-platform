.#-----------------------------------------------------
.input|xwiki/2.0
.# Validate that even when content syntax is wrong for provided language id the code macro highlight something.
.# SKIP: Since Jython 2.5 is too slow to run Pygments java lexers in good conditions, this feature is disabled.
.#-----------------------------------------------------
{{code language=java}}
<b>bold</b>
<i>italic</i>
{{/code}}
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginMacroMarker [code] [language=java] [
<b>bold</b>
<i>italic</i>
]
beginXMLNode [div] [class=code]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [<]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [b]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [>]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [bold]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [</]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [b]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [>]
endFormat: [NONE] [[style]=[color: #666666; ]]
onNewLine
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [<]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [i]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [>]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [italic]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [</]
endFormat: [NONE] [[style]=[color: #666666; ]]
onWord [i]
beginFormat: [NONE] [[style]=[color: #666666; ]]
onWord [>]
endFormat: [NONE] [[style]=[color: #666666; ]]
endXMLNode [div] [class=code]
endMacroMarker [code] [language=java] [
<b>bold</b>
<i>italic</i>
]
endDocument