.#-----------------------------------------------------
.input|xwiki/2.0
.# Validate that the code macro is able to find the right language for provided content and highlight it.
.# SKIP: Since Jython 2.5 is too slow to run most of Pygments lexers in good conditions, this feature is disabled.
.#-----------------------------------------------------
{{code}}
<b>bold</b>
<i>italic</i>
{{/code}}
.#-----------------------------------------------------
.expect|event
.#-----------------------------------------------------
beginDocument
beginMacroMarker [code] [] [
<b>bold</b>
<i>italic</i>
]
beginXMLNode [div] [class=code]
beginFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [<b>]
endFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [bold]
beginFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [</b>]
endFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onNewLine
beginFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [<i>]
endFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [italic]
beginFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
onWord [</i>]
endFormat: [NONE] [[style]=[font-weight: bold; color: #008000; ]]
endXMLNode [div] [class=code]
endMacroMarker [code] [] [
<b>bold</b>
<i>italic</i>
]
endDocument